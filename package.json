{
    "name": "Semantica",
    "version": "1.0.3",
    "description": "Offline semantic search for macOS",
    "author": "Jean Bovet",
    "main": "dist/main.cjs",
    "private": true,
    "scripts": {
        "dev": "node scripts/setup-dev.js && concurrently -k -n VITE,BUILD,ELEC -c blue,magenta,green \"vite\" \"node esbuild.watch.mjs\" \"wait-on tcp:5173 && electronmon .\"",
        "build": "tsc -b && node esbuild.build.mjs && vite build",
        "dist": "npm run build && dotenv -e .env.local -- electron-builder",
        "dist:mac": "npm run dist -- --mac",
        "dist:win": "npm run dist -- --win",
        "dist:linux": "npm run dist -- --linux",
        "release": "npm run dist -- --publish always",
        "test": "NODE_ENV=test vitest --run tests/unit/*.spec.ts",
        "test:watch": "NODE_ENV=test vitest",
        "test:fast": "NODE_ENV=test vitest --run tests/unit/fast-unit-tests.spec.ts tests/unit/shared-worker.spec.ts",
        "test:integration": "NODE_ENV=test vitest --run tests/integration/*.spec.ts",
        "test:all": "NODE_ENV=test vitest --run",
        "test:unit": "NODE_ENV=test vitest --run tests/unit/*.spec.ts",
        "test:parsers": "NODE_ENV=test vitest --run tests/unit/parsers.spec.ts",
        "test:database": "NODE_ENV=test vitest --run tests/unit/database-operations.spec.ts",
        "test:embeddings": "NODE_ENV=test vitest --run tests/unit/embeddings-orchestration.spec.ts",
        "test:pipeline": "NODE_ENV=test vitest --run tests/integration/pipeline.spec.ts",
        "test:core": "NODE_ENV=test vitest --run tests/unit/parsers.spec.ts tests/unit/database-operations.spec.ts tests/unit/embeddings-orchestration.spec.ts tests/integration/pipeline.spec.ts",
        "test:ci": "NODE_ENV=test vitest --run --reporter=dot --exclude=\"tests/integration/**\"",
        "test:coverage": "NODE_ENV=test vitest --run --coverage",
        "test:e2e": "playwright test",
        "lint:types": "tsc -p tsconfig.strict.json",
        "lint": "eslint \"src/**/*.{ts,tsx}\" --max-warnings=0",
        "lint:fix": "eslint \"src/**/*.{ts,tsx}\" --fix",
        "deadcode": "ts-prune -g",
        "depcheck": "depcheck",
        "postinstall": "electron-builder install-app-deps"
    },
    "devDependencies": {
        "@electron/notarize": "^3.0.2",
        "@playwright/test": "^1.48.0",
        "@types/chardet": "^0.8.3",
        "@types/node": "^20.14.0",
        "@types/react": "^18.3.0",
        "@types/react-dom": "^18.3.0",
        "@typescript-eslint/eslint-plugin": "^8.0.0",
        "@typescript-eslint/parser": "^8.0.0",
        "@vitejs/plugin-react": "^4.3.0",
        "concurrently": "^9.0.0",
        "depcheck": "^1.4.7",
        "dotenv-cli": "^10.0.0",
        "electron": "^33.0.0",
        "electron-builder": "^25.0.0",
        "electron-log": "^5.4.3",
        "electronmon": "^2.0.0",
        "esbuild": "^0.25.9",
        "eslint": "^9.10.0",
        "eslint-plugin-unused-imports": "^4.0.0",
        "playwright": "^1.48.0",
        "ts-node": "^10.9.2",
        "ts-prune": "^0.10.3",
        "typescript": "^5.9.2",
        "undici": "^7.15.0",
        "vite": "^7.1.3",
        "vitest": "^3.2.4",
        "wait-on": "^8.0.0"
    },
    "dependencies": {
        "@lancedb/lancedb": "^0.7.0",
        "@xenova/transformers": "^2.17.0",
        "apache-arrow": "^15.0.0",
        "chardet": "^2.1.0",
        "chokidar": "^3.6.0",
        "color-name": "^2.0.0",
        "csv-parse": "^6.1.0",
        "electron-updater": "^6.6.2",
        "iconv-lite": "^0.7.0",
        "mammoth": "^1.10.0",
        "onnxruntime-node": "^1.22.0-rev",
        "pdf-parse": "^1.1.1",
        "react": "^18.3.0",
        "react-dom": "^18.3.0",
        "word-extractor": "^1.0.4",
        "xlsx": "^0.18.5"
    },
    "build": {
        "appId": "ch.arizona-software.semantica",
        "productName": "Semantica",
        "afterSign": "scripts/notarize.js",
        "directories": {
            "output": "dist-app",
            "buildResources": "build"
        },
        "publish": [
            {
                "provider": "github",
                "owner": "jean-bovet",
                "repo": "Semantica"
            }
        ],
        "mac": {
            "category": "public.app-category.productivity",
            "hardenedRuntime": true,
            "entitlements": "build/entitlements.mac.plist",
            "entitlementsInherit": "build/entitlements.mac.plist",
            "icon": "build/icon.icns",
            "target": [
                "dmg",
                "zip"
            ],
            "gatekeeperAssess": false
        },
        "win": {
            "icon": "build/icon.ico",
            "target": [
                "nsis"
            ]
        },
        "linux": {
            "icon": "build",
            "target": [
                "AppImage"
            ],
            "category": "Utility"
        },
        "files": [
            "**/*",
            "!**/test/**",
            "!**/tests/**",
            "!**/*.md",
            "!**/*.ts",
            "!**/*.map",
            "!**/.cache/**"
        ],
        "extraResources": [
            {
                "from": "resources/models",
                "to": "models",
                "filter": [
                    "**/*"
                ]
            }
        ],
        "asar": true,
        "asarUnpack": [
            "**/*.node",
            "**/sharp/vendor/**",
            "**/sharp/build/**",
            "**/onnxruntime-node/bin/**",
            "node_modules/@lancedb/**",
            "node_modules/apache-arrow/**"
        ],
        "compression": "maximum"
    }
}
